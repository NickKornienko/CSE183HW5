[[extend 'layout.html']]

<style>
  [v-cloak] {
    display: none;
  }
</style>



<div class="section" id="vue-target">
  <div class="title">
    Postlandia
  </div>

  <div class="block">
    <div class="field">
      <p class="control">
        <input class="input" type="text" v-model="new_post" />
      </p>
    </div>
    <button class="button is-primary" @click="add_post">Post</button>
    <button class="button is-warning" @click="cancel_post">Cancel</button>
  </div>

  <div class="container is-widescreen">
    <div class="rows">

      <div v-for="post in post_list" class="block">
        <div class="box">
          <div class="rows">

            <div class="row">
              {{post.content}}
            </div>

            <div class="row">
              {{post.poster}}
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- <div id="posts" class="block">
    <div class="card">
      <div v-for="post in post_list" class="block">
        {{post}}
      </div>
    </div>
  </div> -->

</div>

[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let my_callback_url = "[[=XML(my_callback_url)]]";
</script>
<script src="js/index.js"></script>
[[end]]